<div class="header-bar bg-secondary h-100">
  <div
    class="d-flex flex-row justify-content-between justify-content-md-end align-items-center py-2 h-100"
  >
    <button
      class="btn d-block d-md-none"
      type="button"
      (click)="showOffcanvas()"
    >
      <i class="fa-solid fa-bars fa-lg"></i>
    </button>

    <div ngbDropdown class="user-dropdown">
      <div class="d-inline-flex">
        <ng-container
          *ngIf="
            userProfile.imagemPerfil != null;
            else standardProfileImageTemplate
          "
        >
          <ng-container
            *ngTemplateOutlet="
              profileImageTemplate;
              context: { imgSrc: userProfile.imagemPerfil }
            "
          ></ng-container>
        </ng-container>

        <button class="btn p-1 mx-1 text-white" ngbDropdownToggle>
          {{ userProfile.nome }}
        </button>

        <div ngbDropdownMenu>
          <span class="badge rounded-pill bg-primary mx-2 my-1">
            {{ userProfile.email }}
          </span>
          <button ngbDropdownItem (click)="redirectUserProfile()">
            Meu Perfil
          </button>
          <button ngbDropdownItem (click)="logOut()">Sair</button>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #profileImageTemplate let-imgSrc="imgSrc">
  <img
    [src]="convertByteArraytoImg(imgSrc)"
    alt=""
    class="profile-pic rounded-circle"
  />
</ng-template>

<ng-template #standardProfileImageTemplate>
  <div
    class="profile-pic border rounded-circle d-flex justify-content-center align-items-center"
  >
    <i class="fa-solid fa-user text-white"></i>
  </div>
</ng-template>
